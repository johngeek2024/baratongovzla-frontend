<form [formGroup]="categoryForm" (ngSubmit)="handleSubmit()" class="space-y-6">
  <div>
    <label for="name" class="block text-sm font-medium text-text-primary mb-1">Nombre de la Categor√≠a</label>
    <input type="text" id="name" formControlName="name" class="w-full bg-dark-bg border border-border-color rounded-lg px-3 py-2 text-white focus:border-primary-accent focus:ring-2 focus:ring-primary-accent/50 transition-all duration-200"
           [class.border-danger]="name?.invalid && (name?.touched || name?.dirty)"
           placeholder="Ej: Proyectores 4K">
    <app-form-field-error [control]="name"></app-form-field-error>
  </div>

  <div>
    <label for="icon" class="block text-sm font-medium text-text-primary mb-1">Clase del Icono (Font Awesome)</label>
    <div class="relative">
      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-text-secondary">
        <i [class]="icon?.value || 'fas fa-tag'"></i>
      </span>
      <input type="text" id="icon" formControlName="icon" class="w-full bg-dark-bg border border-border-color rounded-lg px-3 py-2 text-white focus:border-primary-accent focus:ring-2 focus:ring-primary-accent/50 transition-all duration-200 !pl-10" (input)="onIconInput()">
    </div>
    <app-form-field-error [control]="icon"></app-form-field-error>
  </div>

  <div>
    <label for="slug" class="block text-sm font-medium text-text-primary mb-1">Slug (URL)</label>
    <div class="relative">
      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-text-secondary">/</span>
      <input type="text" id="slug" formControlName="slug" class="w-full bg-dark-bg border border-border-color rounded-lg px-3 py-2 text-white focus:border-primary-accent focus:ring-2 focus:ring-primary-accent/50 transition-all duration-200 pl-6"
             [class.border-danger]="slug?.invalid && (slug?.touched || slug?.dirty)"
             placeholder="ej: proyectores-4k">
    </div>
    <app-form-field-error [control]="slug"></app-form-field-error>
  </div>

  <div class="flex justify-end gap-4 pt-8">
    <button type="button" class="bg-border-color text-text-primary border-none px-6 py-2.5 rounded-lg font-bold cursor-pointer transition-all duration-200 inline-flex items-center gap-2 whitespace-nowrap hover:bg-text-secondary" (click)="handleCancel()">Cancelar</button>
    <button type="submit" class="bg-primary-accent text-dark-bg border-none px-6 py-2.5 rounded-lg font-bold cursor-pointer transition-all duration-200 inline-flex items-center gap-2 whitespace-nowrap hover:-translate-y-0.5 hover:shadow-lg hover:shadow-primary-accent/20 disabled:opacity-50 disabled:bg-border-color disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none justify-center w-40" [disabled]="categoryForm.invalid || isSaving()">
      @if (isSaving()) {
        <i class="fas fa-spinner animate-spin mr-2"></i>
        <span>Guardando...</span>
      } @else {
        <span>Guardar</span>
      }
    </button>
  </div>
</form>
